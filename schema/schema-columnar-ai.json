{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://risingprogress.com/schema/schema-columnar-ai.json",
  "title": "PRGS Columnar AI-Safe Time Series Schema",
  "type": "object",
  "properties": {
    "meta": {
      "type": "object",
      "$comment": "Metadata describing the export format and source.",
      "required": [
        "formatVersion",
        "source"
      ],
      "properties": {
        "formatVersion": {
          "type": "integer",
          "$comment": "PRGS format version."
        },
        "source": {
          "type": "string",
          "$comment": "Exporter identifier."
        }
      }
    },
    "timeseries": {
      "type": "object",
      "$comment": "Immutable ledger of historical snapshots.",
      "required": [
        "project",
        "scopes",
        "sections"
      ],
      "properties": {
        "project": {
          "type": "object",
          "$comment": "Project-level progress curves over time.",
          "properties": {
            "date": {
              "type": "array",
              "$comment": "Snapshot date."
            },
            "baselinePct": {
              "type": "array",
              "$comment": "Baseline cumulative percent complete."
            },
            "plannedPct": {
              "type": "array",
              "$comment": "Planned cumulative percent complete."
            },
            "dailyActual": {
              "type": "array",
              "$comment": "Daily incremental actual progress."
            },
            "actualPct": {
              "type": "array",
              "$comment": "Actual cumulative percent complete."
            }
          },
          "additionalProperties": false
        },
        "scopes": {
          "type": "object",
          "$comment": "Scope-level historical snapshots.",
          "properties": {
            "historyDate": {
              "type": "array",
              "$comment": "Snapshot date."
            },
            "scopeId": {
              "type": "array",
              "$comment": "Scope identifier."
            },
            "label": {
              "type": "array",
              "$comment": "Scope label at snapshot time."
            },
            "start": {
              "type": "array",
              "$comment": "Scope start date at snapshot."
            },
            "end": {
              "type": "array",
              "$comment": "Scope end date at snapshot."
            },
            "cost": {
              "type": "array",
              "$comment": "Scope percent weighting at snapshot. this may be normalized from earned value or calculated as percent based on level of effort"
            },
            "perDay": {
              "type": "array",
              "$comment": "Planned percent per day for the scope."
            },
            "actualPct": {
              "type": "array",
              "$comment": "Actual percent complete at snapshot."
            },
            "unitsToDate": {
              "type": "array",
              "$comment": "Units installed at snapshot."
            },
            "totalUnits": {
              "type": "array",
              "$comment": "Total units at snapshot."
            },
            "unitsLabel": {
              "type": "array",
              "$comment": "Units of measure."
            },
            "plannedtodate": {
              "type": "array",
              "$comment": "Planned cumulative percent complete at snapshot."
            },
            "sectionName": {
              "type": "array",
              "$comment": "Section name at snapshot."
            },
            "sectionID": {
              "type": "array",
              "$comment": "Section identifier at snapshot."
            }
          },
          "additionalProperties": false
        },
        "sections": {
          "type": "object",
          "$comment": "Section-level rollups by snapshot date.",
          "properties": {
            "historyDate": {
              "type": "array",
              "$comment": "Snapshot date."
            },
            "sectionID": {
              "type": "array",
              "$comment": "Section identifier."
            },
            "sectionTitle": {
              "type": "array",
              "$comment": "Section name."
            },
            "sectionWeight": {
              "type": "array",
              "$comment": "Relative weight of the section."
            },
            "sectionPct": {
              "type": "array",
              "$comment": "Actual cumulative percent complete for the section."
            },
            "sectionPlannedPct": {
              "type": "array",
              "$comment": "Planned cumulative percent complete for the section."
            }
          },
          "additionalProperties": false
        }
      }
    }
  },
  "required": [
    "meta",
    "timeseries"
  ]
}
